function LunchTime(a){this.version="1.0",this.items=["Centro","Kebab","Corlam","Pi","Kmart","Burma","Macacs","Ikea"],this.mode=["start","disabled","outcome","loading"],this.settings={mainContainer:"container",listContainer:{idName:"lunchList",classNormal:"item",classSelected:"selected"},timer:{interval:150,increment:250,threshold:[2e3,5e3,8e3]},allowAudio:!1,srcAudio:["audio/beep-22.mp3","audio/beep-23.mp3","audio/beep-25.mp3"],randomise:!0};var b=0,c=0,d=this.settings.timer.interval,e=this.settings.timer.threshold[c],f=[],g=this;this.init=function(){if(console.log(this.version),"undefined"!=typeof a)for(var b in this.settings)this.settings.hasOwnProperty(b)&&"undefined"!=typeof a[b]&&(this.settings[b]=a[b]);if(this.setMode(this.mode[0]),document.getElementById(this.settings.listContainer.idName).appendChild(this.buildList(this.settings.randomise?this.randomiseItems(this.items):this.items)),this.settings.allowAudio)for(var c=0;c<this.settings.srcAudio.length;c++){var d="audio"+(c+1);f.push(this.audioTrack(d,this.settings.srcAudio[c],1,!1))}document.getElementById("button").addEventListener("click",this.buttonStart,!1),document.getElementById("replay").addEventListener("click",this.reset,!1)},this.intervalRandomise=function(){this.intCounter=setTimeout(function(){for(var a,h=Math.floor(Math.random()*(g.items.length-1+1)),i=g.settings.listContainer.classNormal,j=g.settings.listContainer.classSelected,k=document.getElementById(g.settings.listContainer.idName),l=k.getElementsByTagName("li"),m=0;m<l.length;m++)a=h===m?i.concat(" ",j):i,l[m].className=a;console.log(Math.round(d)," == ",b),b+=d,b>e&&(c++,e=g.settings.timer.threshold[c],d+=g.settings.timer.increment),c<g.settings.timer.threshold.length?(f[0].pause(),f[0].currentTime=0,f[0].play(),g.intervalRandomise()):(g.intCounter=null,g.setMode(g.mode[2]),g.displayOutcome(),console.log("chosen!"))},Math.round(d))},this.randomiseItems=function(a){for(var b=a.length-1;b>0;b--){var c=Math.floor(Math.random()*(b+1)),d=a[b];a[b]=a[c],a[c]=d}return a},this.buildList=function(a){for(var b=document.createElement("ul"),c=0;c<a.length;c++){var d=document.createElement("li");d.appendChild(document.createTextNode(a[c])),d.className=g.settings.listContainer.classNormal,b.appendChild(d)}return b},this.setMode=function(a){var b=document.getElementById(this.settings.mainContainer);switch(b.className="container "+a,a){case this.mode[0]:break;case this.mode[1]:break;case this.mode[2]:break;case this.mode[3]:}},this.buttonStart=function(){this.disabled=!0,g.setMode(g.mode[1]),g.intervalRandomise()},this.displayOutcome=function(){},this.reset=function(){console.log("RESET")},this.audioTrack=function(a,b,c,d){var e=document.createElement("audio");return e.name=a,e.src=b,e.volume=c,e.loop=d,e.preload="auto",e},this.init()}